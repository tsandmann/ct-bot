<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>c&#39;t-Bot: botfs.h-Dateireferenz</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">c&#39;t-Bot
   &#160;<span id="projectnumber">1898</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Erzeugt von Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&#160;Informationen</span></a></li>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li class="current"><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="dirs.html"><span>Verzeichnisse</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Auflistung&#160;der&#160;Dateien</span></a></li>
      <li><a href="globals.html"><span>Datei-Elemente</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9d1e0dccf1391b04e9e09a3367003bd7.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Datenstrukturen</a> &#124;
<a href="#define-members">Makrodefinitionen</a> &#124;
<a href="#func-members">Funktionen</a> &#124;
<a href="#var-members">Variablen</a>  </div>
  <div class="headertitle">
<div class="title">botfs.h-Dateireferenz</div>  </div>
</div>
<div class="contents">

<p>Dateisystem BotFS.  
<a href="#details">Mehr ...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="botfs__config_8h_source.html">botfs_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="botfs__types_8h_source.html">botfs_types.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include-Abhängigkeitsdiagramm für botfs.h:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h__incl.png" border="0" usemap="#botfs_8h" alt=""/></div>
<map name="botfs_8h" id="botfs_8h">
<area shape="rect" id="node3" href="botfs__config_8h.html" title="Konfig&#45;Optionen fuer Dateisystem BotFS." alt="" coords="5,83,109,111"/><area shape="rect" id="node5" href="botfs__types_8h.html" title="Datentypen fuer Dateisystem BotFS." alt="" coords="133,83,235,111"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
Dieser Graph zeigt, welche Datei direkt oder indirekt diese Datei enthält:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h__dep__incl.png" border="0" usemap="#botfs_8hdep" alt=""/></div>
<map name="botfs_8hdep" id="botfs_8hdep">
<area shape="rect" id="node3" href="botfs_8c.html" title="Dateisystem BotFS." alt="" coords="5,83,67,111"/><area shape="rect" id="node5" href="command_8c.html" title="Kommando&#45;Management." alt="" coords="1112,161,1203,189"/><area shape="rect" id="node7" href="behaviour__abl_8c.html" title="Abstract Bot Language Interpreter." alt="" coords="405,161,523,189"/><area shape="rect" id="node9" href="behaviour__ubasic_8c.html" title="Basic&#45;Interpreter als Verhalten." alt="" coords="479,315,617,343"/><area shape="rect" id="node11" href="tokenizer_8c.html" title="tokenizer.c" alt="" coords="12,315,100,343"/><area shape="rect" id="node13" href="init_8h.html" title="Initialisierungsroutinen." alt="" coords="904,83,952,111"/><area shape="rect" id="node26" href="behaviour__ubasic__access_8h.html" title="Zugriffsroutingen fuer Basic&#45;Interpreter." alt="" coords="141,161,331,189"/><area shape="rect" id="node40" href="sensor-low_8c.html" title="Low&#45;Level Routinen fuer die Sensor Steuerung des c&#39;t&#45;Bots." alt="" coords="989,161,1088,189"/><area shape="rect" id="node46" href="map_8h.html" title="Karte." alt="" coords="1649,83,1708,111"/><area shape="rect" id="node70" href="cmd-tools__pc_8c.html" title="Funktionen, die per Commandline&#45;Switch aufgerufen werden koennen." alt="" coords="3120,161,3235,189"/><area shape="rect" id="node77" href="botfs-low_8c.html" title="Low&#45;Level&#45;Funktionen des Dateisystems BotFS fuer MCU." alt="" coords="1783,83,1868,111"/><area shape="rect" id="node80" href="botfs-low__pc_8c.html" title="Low&#45;Level&#45;Funktionen des Dateisystems BotFS fuer PC." alt="" coords="1892,83,2001,111"/><area shape="rect" id="node82" href="botfs-tools__pc_8c.html" title="Management&#45;Funktionen des Dateisystems BotFS fuer PC." alt="" coords="2025,83,2143,111"/><area shape="rect" id="node84" href="botfs__pc_8c.html" title="PC&#45;only Teile des Dateisystems BotFS." alt="" coords="2167,83,2249,111"/><area shape="rect" id="node87" href="sensor-low__pc_8c.html" title="Low&#45;Level Routinen fuer die Sensor Steuerung des c&#39;t&#45;Bots." alt="" coords="2273,83,2393,111"/><area shape="rect" id="node15" href="botcontrol_8c.html" title="High&#45;level Steuerungsroutinen, z.B." alt="" coords="1227,161,1317,189"/><area shape="rect" id="node18" href="ct-Bot_8c.html" title="Bot&#45;Hauptprogramm." alt="" coords="800,161,867,189"/><area shape="rect" id="node20" href="init_8c.html" title="Initialisierungsroutinen." alt="" coords="1341,161,1389,189"/><area shape="rect" id="node22" href="map_8c.html" title="Karte." alt="" coords="1413,161,1472,189"/><area shape="rect" id="node38" href="init-low_8c.html" title="Initialisierungsroutinen fuer MCU." alt="" coords="891,161,965,189"/><area shape="rect" id="node42" href="init-low__pc_8c.html" title="Initialisierungsroutinen fuer PC." alt="" coords="547,161,643,189"/><area shape="rect" id="node44" href="misc_8c.html" title="Sonstige Display&#45;Anzeigefunktionen, die in keine andere Datei so richtig passen." alt="" coords="667,161,725,189"/><area shape="rect" id="node28" href="tokenizer__access_8h.html" title="tokenizer_access.h" alt="" coords="179,238,317,266"/><area shape="rect" id="node32" href="ubasic_8c.html" title="ubasic.c" alt="" coords="260,315,332,343"/><area shape="rect" id="node34" href="ubasic__call_8c.html" title="ubasic_call.c" alt="" coords="356,315,455,343"/><area shape="rect" id="node36" href="ubasic__cvars_8c.html" title="ubasic_cvars.c" alt="" coords="124,315,236,343"/><area shape="rect" id="node52" href="behaviour__drive__area_8c.html" title="Flaechendeckendes Fahren als Verhalten (Staubsauger)" alt="" coords="2933,161,3096,189"/><area shape="rect" id="node54" href="behaviour__drive__stack_8c.html" title="Anfahren aller auf dem Stack befindlichen Punkte." alt="" coords="1496,161,1664,189"/><area shape="rect" id="node56" href="behaviour__get__utilization_8c.html" title="Misst die CPU&#45;Auslastung eines anderen Verhaltens." alt="" coords="1688,161,1869,189"/><area shape="rect" id="node58" href="behaviour__pathplaning_8c.html" title="Wave&#45;Pfadplanungsverhalten." alt="" coords="1893,161,2061,189"/><area shape="rect" id="node60" href="behaviour__scan_8c.html" title="Scannt die Umgebung und traegt sie in die Karte ein." alt="" coords="2085,161,2213,189"/><area shape="rect" id="node62" href="behaviour__transport__pillar_8c.html" title="Bot startet von einem Farb&#45;Startpad und entdeckt die Welt, bis er auf ein anderes Farbpad stoesst..." alt="" coords="2237,161,2424,189"/><area shape="rect" id="node64" href="mmc_8c.html" title="Routinen zum Auslesen/Schreiben einer MMC&#45;Karte." alt="" coords="2448,161,2509,189"/><area shape="rect" id="node66" href="os__scheduler_8c.html" title="Mini&#45;Scheduler fuer BotOS." alt="" coords="2533,161,2645,189"/><area shape="rect" id="node68" href="os__thread_8c.html" title="Threadmanagement fuer BotOS." alt="" coords="2669,161,2760,189"/><area shape="rect" id="node72" href="gui_8c.html" title="Display&#45;GUI des Bots." alt="" coords="2784,161,2835,189"/><area shape="rect" id="node74" href="rc5_8c.html" title="RC5&#45;Fernbedienung / Basic&#45;Tasten&#45;Handler." alt="" coords="2859,161,2909,189"/></map>
</div>
</div>
<p><a href="botfs_8h_source.html">gehe zum Quellcode dieser Datei</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Datenstrukturen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPACKED.html">PACKED</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FAT.  <a href="structPACKED.html#details">Mehr ...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Makrodefinitionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a451005e84de1315aa22c5c9cd6605563">PRINT_MSG</a>(_format, _args...)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Funktionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a9452100255630000f8d3a3540f3546a3">botfs_init</a> (char *image, void *buffer, uint8_t create)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisiert ein Volume.  <a href="#a9452100255630000f8d3a3540f3546a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#aad0605bba52a09999f158cb2e371a5de">botfs_open</a> (const char *filename, botfs_file_descr_t *file, uint8_t mode, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Oeffnet eine Datei.  <a href="#aad0605bba52a09999f158cb2e371a5de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a71348fbe8ed02ee7b07b6ab789a400ab">botfs_read</a> (botfs_file_descr_t *file, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer.  <a href="#a71348fbe8ed02ee7b07b6ab789a400ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#afe7539a83c840b120ef8996557fd0e9a">botfs_write</a> (botfs_file_descr_t *file, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei.  <a href="#afe7539a83c840b120ef8996557fd0e9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a1683850a15cc2ed1af27911aa134f83f">botfs_create</a> (const char *filename, uint16_t size, uint16_t alignment, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Legt eine neue Datei an.  <a href="#a1683850a15cc2ed1af27911aa134f83f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a51db2e9a9426dc9edb351cc81edd7a70">botfs_unlink</a> (const char *filename, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entfernt eine Datei.  <a href="#a51db2e9a9426dc9edb351cc81edd7a70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a425c8a53f498374adef8744291c8aa16">botfs_rename</a> (const char *filename, const char *new_name, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Benennt eine Datei um.  <a href="#a425c8a53f498374adef8744291c8aa16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a5964332bb5b66e2201b3a6b26935e1af">botfs_flush_used_blocks</a> (botfs_file_descr_t *file, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schreibt die Information ueber benutzte Bloecke in den Datei-Header.  <a href="#a5964332bb5b66e2201b3a6b26935e1af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a4f5aa83fae2a2682310842df4c8458e0">botfs_read_header_data</a> (botfs_file_descr_t *file, uint8_t **headerdata, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Liest die frei verwendbaren Header-Daten einer Datei aus.  <a href="#a4f5aa83fae2a2682310842df4c8458e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a4211d1027e05944d4aff015446e01b62">botfs_write_header_data</a> (botfs_file_descr_t *file, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schreib die frei verwendbaren Header-Daten einer Datei in den Header.  <a href="#a4211d1027e05944d4aff015446e01b62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a186480cb74d92ebd01adbd2e2535a631">botfs_close_volume</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Beendet BotFS sauber.  <a href="#a186480cb74d92ebd01adbd2e2535a631"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a70135f989fbae72bdffaaed683b55417">botfs_copy</a> (botfs_file_descr_t *src, const char *dest, uint16_t src_offset, uint16_t dest_offset, uint16_t dest_tail, uint16_t dest_align, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kopiert eine bestehende BotFS-Datei in eine neue BotFS-Datei.  <a href="#a70135f989fbae72bdffaaed683b55417"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a75f8a777d322f7bf7133a87c492d0d9f">botfs_create_volume</a> (const char *image, const char *name, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erzeugt ein neues Volume.  <a href="#a75f8a777d322f7bf7133a87c492d0d9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a855fac9127fb0e3076b60da2f9a1650f">botfs_copy_file</a> (const char *to, const char *from, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kopiert eine Datei vom PC-Dateisystem auf das BotFS-Volume.  <a href="#a855fac9127fb0e3076b60da2f9a1650f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#abf871e61697e33491a47f4af7dd1c061">botfs_extract_file</a> (const char *to, const char *from, uint32_t src_offset, uint32_t dest_offset, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kopiert eine Datei vom BotfS-Volume ins PC-Dateisystem.  <a href="#abf871e61697e33491a47f4af7dd1c061"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a6ed6b6e4817d4435956735eedaeae3e4">botfs_management</a> (char *volume_file)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Management-Tools fuer BotFS.  <a href="#a6ed6b6e4817d4435956735eedaeae3e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a58bec3b262a075120ddd374e1438aaed">botfs_readdir</a> (uint8_t offset, void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gibt Root-Dir-Eintraege zurueck.  <a href="#a58bec3b262a075120ddd374e1438aaed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#ae5161e6b535fcf21c029e7890f1d00a1">botfs_print_freelist</a> (void *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gibt alle Freelist-Eintraege aus.  <a href="#ae5161e6b535fcf21c029e7890f1d00a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a3b1852754b9352e456042f31f5242d6c">botfs_read_fat16</a> (const char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeigt Informationen ueber jeden Eintrag des Root-Verzeichnisses einer FAT16-Partition an.  <a href="#a3b1852754b9352e456042f31f5242d6c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variablen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="botfs_8h.html#a9b582e0d1a6060b578f95554abecb97f">botfs_volume_image_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dateiname des BotFS-Volume-Images.  <a href="#a9b582e0d1a6060b578f95554abecb97f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Ausführliche Beschreibung</h2>
<div class="textblock"><p>Dateisystem BotFS. </p>
<dl class="author"><dt><b>Autor:</b></dt><dd>Timo Sandmann (<a href="mailto:mail@timosandmann.de">mail@timosandmann.de</a>) </dd></dl>
<dl class="date"><dt><b>Datum:</b></dt><dd>18.02.2008 </dd></dl>

<p>Definiert in Datei <a class="el" href="botfs_8h_source.html">botfs.h</a>.</p>
</div><hr/><h2>Makro-Dokumentation</h2>
<a class="anchor" id="a451005e84de1315aa22c5c9cd6605563"></a><!-- doxytag: member="botfs.h::PRINT_MSG" ref="a451005e84de1315aa22c5c9cd6605563" args="(_format, _args...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINT_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_format, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definiert in Zeile <a class="el" href="botfs_8h_source.html#l00053">53</a> der Datei <a class="el" href="botfs_8h_source.html">botfs.h</a>.</p>

<p>Wird benutzt von <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs-low_8c_source.html#l00237">botfs_close_volume_low()</a>, <a class="el" href="botfs_8c_source.html#l00384">botfs_create()</a>, <a class="el" href="botfs_8c_source.html#l00698">botfs_flush_used_blocks()</a>, <a class="el" href="botfs_8c_source.html#l00148">botfs_init()</a>, <a class="el" href="botfs-low_8c_source.html#l00160">botfs_init_low()</a>, <a class="el" href="botfs_8c_source.html#l00492">botfs_open()</a>, <a class="el" href="botfs_8c_source.html#l00630">botfs_read()</a>, <a class="el" href="botfs_8c_source.html#l00574">botfs_rename()</a>, <a class="el" href="botfs_8c_source.html#l00534">botfs_unlink()</a> und <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a>.</p>

</div>
</div>
<hr/><h2>Dokumentation der Funktionen</h2>
<a class="anchor" id="a186480cb74d92ebd01adbd2e2535a631"></a><!-- doxytag: member="botfs.h::botfs_close_volume" ref="a186480cb74d92ebd01adbd2e2535a631" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void botfs_close_volume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Beendet BotFS sauber. </p>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00760">760</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00237">botfs_close_volume_low()</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low__pc_8c_source.html#l00060">convert_slog_file()</a> und <a class="el" href="botcontrol_8c_source.html#l00138">ctbot_shutdown()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a186480cb74d92ebd01adbd2e2535a631_cgraph.png" border="0" usemap="#botfs_8h_a186480cb74d92ebd01adbd2e2535a631_cgraph" alt=""/></div>
<map name="botfs_8h_a186480cb74d92ebd01adbd2e2535a631_cgraph" id="botfs_8h_a186480cb74d92ebd01adbd2e2535a631_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#acdfb3639408d19fe95a0e45020373371" title="Schliesst das BotFS&#45;Volume (beendet BotFS sauber)" alt="" coords="197,81,368,109"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="416,81,579,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="647,55,729,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="627,106,749,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="797,55,896,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="959,30,1057,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="945,81,1071,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1127,5,1241,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1121,55,1247,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a70135f989fbae72bdffaaed683b55417"></a><!-- doxytag: member="botfs.h::botfs_copy" ref="a70135f989fbae72bdffaaed683b55417" args="(botfs_file_descr_t *src, const char *dest, uint16_t src_offset, uint16_t dest_offset, uint16_t dest_tail, uint16_t dest_align, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_copy </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>src_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dest_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dest_tail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dest_align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kopiert eine bestehende BotFS-Datei in eine neue BotFS-Datei. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*src</td><td>Zeiger auf Dateideskriptor der Quelldatei </td></tr>
    <tr><td class="paramname">*dest</td><td>Name der Zieldatei </td></tr>
    <tr><td class="paramname">src_offset</td><td>Block-Offset, ab dem aus der Quelldatei kopiert werden soll (normalerweise 0) </td></tr>
    <tr><td class="paramname">dest_offset</td><td>Block-Offest, an dem der kopierte Inhalt in der Zieldatei beginnen soll (normalerweise 0) </td></tr>
    <tr><td class="paramname">dest_tail</td><td>Freier Speicherplatz, der am Ende der Zieldatei reserviert wird in Bloecken (normalerweise 0) </td></tr>
    <tr><td class="paramname">dest_align</td><td>Ausrichtung der neuen Zieldatei an einer X-Blockgrenze (normalerweise 0) </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

</div>
</div>
<a class="anchor" id="a855fac9127fb0e3076b60da2f9a1650f"></a><!-- doxytag: member="botfs.h::botfs_copy_file" ref="a855fac9127fb0e3076b60da2f9a1650f" args="(const char *to, const char *from, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_copy_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kopiert eine Datei vom PC-Dateisystem auf das BotFS-Volume. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*to</td><td>Dateiname der Zieldatei auf dem Volume </td></tr>
    <tr><td class="paramname">*from</td><td>Pfadname der Quelldatei </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs__pc_8c_source.html#l00154">154</a> der Datei <a class="el" href="botfs__pc_8c_source.html">botfs_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs_8c_source.html#l00384">botfs_create()</a>, <a class="el" href="botfs__config_8h_source.html#l00060">BOTFS_MODE_r</a>, <a class="el" href="botfs__config_8h_source.html#l00062">BOTFS_MODE_W</a>, <a class="el" href="botfs_8c_source.html#l00492">botfs_open()</a>, <a class="el" href="botfs_8c_source.html#l00534">botfs_unlink()</a>, <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a855fac9127fb0e3076b60da2f9a1650f_cgraph.png" border="0" usemap="#botfs_8h_a855fac9127fb0e3076b60da2f9a1650f_cgraph" alt=""/></div>
<map name="botfs_8h_a855fac9127fb0e3076b60da2f9a1650f_cgraph" id="botfs_8h_a855fac9127fb0e3076b60da2f9a1650f_cgraph">
<area shape="rect" id="node3" href="botfs_8c.html#a1683850a15cc2ed1af27911aa134f83f" title="Legt eine neue Datei an." alt="" coords="165,5,261,33"/><area shape="rect" id="node21" href="botfs_8c.html#afe7539a83c840b120ef8996557fd0e9a" title="Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei." alt="" coords="312,55,397,83"/><area shape="rect" id="node27" href="botfs_8c.html#aad0605bba52a09999f158cb2e371a5de" title="Oeffnet eine Datei." alt="" coords="311,157,399,185"/><area shape="rect" id="node33" href="botfs_8c.html#a51db2e9a9426dc9edb351cc81edd7a70" title="Entfernt eine Datei." alt="" coords="168,106,259,134"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="611,106,773,134"/><area shape="rect" id="node23" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="448,55,563,83"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="841,81,924,109"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="821,131,944,159"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="992,81,1091,109"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1153,55,1252,83"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1140,106,1265,134"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1321,30,1436,58"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1316,81,1441,109"/><area shape="rect" id="node30" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="448,157,563,185"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1683850a15cc2ed1af27911aa134f83f"></a><!-- doxytag: member="botfs.h::botfs_create" ref="a1683850a15cc2ed1af27911aa134f83f" args="(const char *filename, uint16_t size, uint16_t alignment, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Legt eine neue Datei an. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Dateiname </td></tr>
    <tr><td class="paramname">size</td><td>Groesse der Datei in Bloecken </td></tr>
    <tr><td class="paramname">alignment</td><td>Ausrichtung des Dateianfangs an einer X-Blockgrenze (normalerweise 0) </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00384">384</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00050">BOTFS_HEADER_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00041">BOTFS_MAX_FILENAME</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a>, <a class="el" href="botfs-low_8c_source.html#l00224">botfs_write_low()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low_8c_source.html#l00116">bot_sens_init()</a>, <a class="el" href="botfs__pc_8c_source.html#l00154">botfs_copy_file()</a> und <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a1683850a15cc2ed1af27911aa134f83f_cgraph.png" border="0" usemap="#botfs_8h_a1683850a15cc2ed1af27911aa134f83f_cgraph" alt=""/></div>
<map name="botfs_8h_a1683850a15cc2ed1af27911aa134f83f_cgraph" id="botfs_8h_a1683850a15cc2ed1af27911aa134f83f_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="448,81,611,109"/><area shape="rect" id="node19" href="botfs_8c.html#afe7539a83c840b120ef8996557fd0e9a" title="Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei." alt="" coords="151,106,236,134"/><area shape="rect" id="node21" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="285,106,400,134"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="679,55,761,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="659,106,781,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="829,55,928,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="991,30,1089,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="977,81,1103,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1159,5,1273,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1153,55,1279,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a75f8a777d322f7bf7133a87c492d0d9f"></a><!-- doxytag: member="botfs.h::botfs_create_volume" ref="a75f8a777d322f7bf7133a87c492d0d9f" args="(const char *image, const char *name, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_create_volume </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erzeugt ein neues Volume. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*image</td><td>Dateiname fuer das Volume-Image </td></tr>
    <tr><td class="paramname">*name</td><td>Name des Volumes </td></tr>
    <tr><td class="paramname">size</td><td>Groesse des Volumes in Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs__pc_8c_source.html#l00047">47</a> der Datei <a class="el" href="botfs__pc_8c_source.html">botfs_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs-low__pc_8c_source.html#l00135">botfs_create_volume_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00044">BOTFS_DIR_BLOCK_CNT</a>, <a class="el" href="botfs__config_8h_source.html#l00049">BOTFS_FREEL_BL_CNT</a>, <a class="el" href="botfs__config_8h_source.html#l00038">BOTFS_HEADER_POS</a>, <a class="el" href="botfs__config_8h_source.html#l00041">BOTFS_MAX_FILENAME</a>, <a class="el" href="botfs__config_8h_source.html#l00042">BOTFS_MAX_VOLUME_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00053">BOTFS_VERSION</a>, <a class="el" href="botfs__config_8h_source.html#l00055">BOTFS_VOL_NAME_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00052">BOTFS_VOLUME_DATA</a>, <a class="el" href="botfs-low_8c_source.html#l00224">botfs_write_low()</a>, <a class="el" href="botfs__types_8h_source.html#l00132">botfs_volume_t::ctrldata</a>, <a class="el" href="unionbotfs__volume__t.html#a9ddf9bc9b65152f5f1afd15b4c8aa967">botfs_volume_t::data</a>, <a class="el" href="botfs__types_8h_source.html#l00133">botfs_volume_t::first_data</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="botfs__types_8h_source.html#l00134">botfs_volume_t::name</a>, <a class="el" href="botfs__types_8h_source.html#l00136">botfs_volume_t::raw</a>, <a class="el" href="botfs__types_8h_source.html#l00131">botfs_volume_t::size</a> und <a class="el" href="botfs__types_8h_source.html#l00130">botfs_volume_t::version</a>.</p>

<p>Wird benutzt von <a class="el" href="botfs-low__pc_8c_source.html#l00065">botfs_init_low()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a75f8a777d322f7bf7133a87c492d0d9f_cgraph.png" border="0" usemap="#botfs_8h_a75f8a777d322f7bf7133a87c492d0d9f_cgraph" alt=""/></div>
<map name="botfs_8h_a75f8a777d322f7bf7133a87c492d0d9f_cgraph" id="botfs_8h_a75f8a777d322f7bf7133a87c492d0d9f_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#a2a3584e02ef98f12d6e3e6cdd08adc18" title="Erzeugt eine neue Image&#45;Datei fuer ein Volume." alt="" coords="201,55,375,83"/><area shape="rect" id="node21" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="231,106,345,134"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="424,81,587,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="655,55,737,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="635,106,757,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="805,55,904,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="967,30,1065,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="953,81,1079,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1135,5,1249,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1129,55,1255,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf871e61697e33491a47f4af7dd1c061"></a><!-- doxytag: member="botfs.h::botfs_extract_file" ref="abf871e61697e33491a47f4af7dd1c061" args="(const char *to, const char *from, uint32_t src_offset, uint32_t dest_offset, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_extract_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>src_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dest_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kopiert eine Datei vom BotfS-Volume ins PC-Dateisystem. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*to</td><td>Pfadname der Zieldatei </td></tr>
    <tr><td class="paramname">*from</td><td>Dateiname der Quelldatei auf dem Volume </td></tr>
    <tr><td class="paramname">src_offset</td><td>Offset / Bloecken, ab dem aus der Quelldatei kopiert werden soll (im Normalfall 0) </td></tr>
    <tr><td class="paramname">dest_offset</td><td>Offset / Bloecken, ab dem in der Zieldatei der Inhalt beginnen soll (im Normalfall 0) </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs__pc_8c_source.html#l00237">237</a> der Datei <a class="el" href="botfs__pc_8c_source.html">botfs_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00060">BOTFS_MODE_r</a>, <a class="el" href="botfs_8c_source.html#l00492">botfs_open()</a>, <a class="el" href="botfs_8c_source.html#l00630">botfs_read()</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_abf871e61697e33491a47f4af7dd1c061_cgraph.png" border="0" usemap="#botfs_8h_abf871e61697e33491a47f4af7dd1c061_cgraph" alt=""/></div>
<map name="botfs_8h_abf871e61697e33491a47f4af7dd1c061_cgraph" id="botfs_8h_abf871e61697e33491a47f4af7dd1c061_cgraph">
<area shape="rect" id="node3" href="botfs_8c.html#aad0605bba52a09999f158cb2e371a5de" title="Oeffnet eine Datei." alt="" coords="177,55,265,83"/><area shape="rect" id="node24" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="179,106,264,134"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="477,81,640,109"/><area shape="rect" id="node21" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="315,106,429,134"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="708,55,791,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="688,106,811,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="859,55,957,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1020,30,1119,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1007,81,1132,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1188,5,1303,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1183,55,1308,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5964332bb5b66e2201b3a6b26935e1af"></a><!-- doxytag: member="botfs.h::botfs_flush_used_blocks" ref="a5964332bb5b66e2201b3a6b26935e1af" args="(botfs_file_descr_t *file, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_flush_used_blocks </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schreibt die Information ueber benutzte Bloecke in den Datei-Header. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00698">698</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00208">botfs_read_low()</a>, <a class="el" href="botfs-low_8c_source.html#l00224">botfs_write_low()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a>, <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a> und <a class="el" href="map_8c_source.html#l01913">map_read()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a5964332bb5b66e2201b3a6b26935e1af_cgraph.png" border="0" usemap="#botfs_8h_a5964332bb5b66e2201b3a6b26935e1af_cgraph" alt=""/></div>
<map name="botfs_8h_a5964332bb5b66e2201b3a6b26935e1af_cgraph" id="botfs_8h_a5964332bb5b66e2201b3a6b26935e1af_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="224,55,339,83"/><area shape="rect" id="node21" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="224,106,339,134"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="387,81,549,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="617,55,700,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="597,106,720,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="768,55,867,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="929,30,1028,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="916,81,1041,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1097,5,1212,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1092,55,1217,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9452100255630000f8d3a3540f3546a3"></a><!-- doxytag: member="botfs.h::botfs_init" ref="a9452100255630000f8d3a3540f3546a3" args="(char *image, void *buffer, uint8_t create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_init </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialisiert ein Volume. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*image</td><td>Dateiname des Images </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
    <tr><td class="paramname">create</td><td>Soll das Volume erzeugt werden, falls es nicht existiert? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00148">148</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00176">botfs_check_volume_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00038">BOTFS_HEADER_POS</a>, <a class="el" href="botfs-low_8c_source.html#l00160">botfs_init_low()</a>, <a class="el" href="botfs-low_8c_source.html#l00208">botfs_read_low()</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="botfs__types_8h_source.html#l00132">botfs_volume_t::ctrldata</a>, <a class="el" href="unionbotfs__volume__t.html#a9ddf9bc9b65152f5f1afd15b4c8aa967">botfs_volume_t::data</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low__pc_8c_source.html#l00060">convert_slog_file()</a>, <a class="el" href="init_8c_source.html#l00046">ctbot_init()</a> und <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a9452100255630000f8d3a3540f3546a3_cgraph.png" border="0" usemap="#botfs_8h_a9452100255630000f8d3a3540f3546a3_cgraph" alt=""/></div>
<map name="botfs_8h_a9452100255630000f8d3a3540f3546a3_cgraph" id="botfs_8h_a9452100255630000f8d3a3540f3546a3_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#a2c8ce5783b030602ef6b682f7c67202a" title="Ueberprueft ein geladenes Volume." alt="" coords="128,27,301,55"/><area shape="rect" id="node25" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="727,78,841,106"/><area shape="rect" id="node28" href="botfs-low_8h.html#a04a8d2f38bf2c9d01e787da13cb73dc8" title="Laedt das Volume." alt="" coords="351,128,452,156"/><area shape="rect" id="node5" href="botfs_8h.html#a58bec3b262a075120ddd374e1438aaed" title="Gibt Root&#45;Dir&#45;Eintraege zurueck." alt="" coords="351,27,452,55"/><area shape="rect" id="node7" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="920,128,1083,156"/><area shape="rect" id="node23" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="532,27,617,55"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1151,103,1233,131"/><area shape="rect" id="node21" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="1131,154,1253,182"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1301,103,1400,131"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1463,78,1561,106"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1449,128,1575,156"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1631,52,1745,80"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1625,103,1751,131"/><area shape="rect" id="node31" href="botfs_8h.html#a75f8a777d322f7bf7133a87c492d0d9f" title="Erzeugt ein neues Volume." alt="" coords="501,179,648,207"/><area shape="rect" id="node33" href="botfs-low_8h.html#a2a3584e02ef98f12d6e3e6cdd08adc18" title="Erzeugt eine neue Image&#45;Datei fuer ein Volume." alt="" coords="697,179,871,207"/><area shape="rect" id="node36" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="727,230,841,258"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ed6b6e4817d4435956735eedaeae3e4"></a><!-- doxytag: member="botfs.h::botfs_management" ref="a6ed6b6e4817d4435956735eedaeae3e4" args="(char *volume_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void botfs_management </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>volume_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Management-Tools fuer BotFS. </p>

<p>Definiert in Zeile <a class="el" href="botfs-tools__pc_8c_source.html#l00653">653</a> der Datei <a class="el" href="botfs-tools__pc_8c_source.html">botfs-tools_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00053">BOTFS_VERSION</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

</div>
</div>
<a class="anchor" id="aad0605bba52a09999f158cb2e371a5de"></a><!-- doxytag: member="botfs.h::botfs_open" ref="aad0605bba52a09999f158cb2e371a5de" args="(const char *filename, botfs_file_descr_t *file, uint8_t mode, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Oeffnet eine Datei. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Dateiname </td></tr>
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">mode</td><td>Modus, in dem die Datei geoeffnet wird </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00492">492</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00050">BOTFS_HEADER_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00062">BOTFS_MODE_W</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs-low_8c_source.html#l00208">botfs_read_low()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low_8c_source.html#l00116">bot_sens_init()</a>, <a class="el" href="botfs__pc_8c_source.html#l00154">botfs_copy_file()</a>, <a class="el" href="botfs__pc_8c_source.html#l00237">botfs_extract_file()</a>, <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a>, <a class="el" href="sensor-low__pc_8c_source.html#l00060">convert_slog_file()</a> und <a class="el" href="behaviour__ubasic_8c_source.html#l00265">switch_proc()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_aad0605bba52a09999f158cb2e371a5de_cgraph.png" border="0" usemap="#botfs_8h_aad0605bba52a09999f158cb2e371a5de_cgraph" alt=""/></div>
<map name="botfs_8h_aad0605bba52a09999f158cb2e371a5de_cgraph" id="botfs_8h_aad0605bba52a09999f158cb2e371a5de_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="307,81,469,109"/><area shape="rect" id="node19" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="144,106,259,134"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="537,55,620,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="517,106,640,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="688,55,787,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="849,30,948,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="836,81,961,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1017,5,1132,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1012,55,1137,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5161e6b535fcf21c029e7890f1d00a1"></a><!-- doxytag: member="botfs.h::botfs_print_freelist" ref="ae5161e6b535fcf21c029e7890f1d00a1" args="(void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void botfs_print_freelist </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gibt alle Freelist-Eintraege aus. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="botfs__pc_8c_source.html#l00329">329</a> der Datei <a class="el" href="botfs__pc_8c_source.html">botfs_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00049">BOTFS_FREEL_BL_CNT</a>, <a class="el" href="botfs__config_8h_source.html#l00048">BOTFS_FREEL_BL_SIZE</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs_8c_source.html#l00630">botfs_read()</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00163">j</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_ae5161e6b535fcf21c029e7890f1d00a1_cgraph.png" border="0" usemap="#botfs_8h_ae5161e6b535fcf21c029e7890f1d00a1_cgraph" alt=""/></div>
<map name="botfs_8h_ae5161e6b535fcf21c029e7890f1d00a1_cgraph" id="botfs_8h_ae5161e6b535fcf21c029e7890f1d00a1_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="483,81,645,109"/><area shape="rect" id="node19" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="185,106,271,134"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="713,55,796,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="693,106,816,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="864,55,963,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1025,30,1124,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1012,81,1137,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1193,5,1308,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1188,55,1313,83"/><area shape="rect" id="node21" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="320,106,435,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a71348fbe8ed02ee7b07b6ab789a400ab"></a><!-- doxytag: member="botfs.h::botfs_read" ref="a71348fbe8ed02ee7b07b6ab789a400ab" args="(botfs_file_descr_t *file, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_read </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte, in die Daten geschrieben werden </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00630">630</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00208">botfs_read_low()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="botfs__pc_8c_source.html#l00237">botfs_extract_file()</a>, <a class="el" href="botfs__pc_8c_source.html#l00329">botfs_print_freelist()</a>, <a class="el" href="botfs__pc_8c_source.html#l00294">botfs_readdir()</a>, <a class="el" href="sensor-low__pc_8c_source.html#l00060">convert_slog_file()</a> und <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a71348fbe8ed02ee7b07b6ab789a400ab_cgraph.png" border="0" usemap="#botfs_8h_a71348fbe8ed02ee7b07b6ab789a400ab_cgraph" alt=""/></div>
<map name="botfs_8h_a71348fbe8ed02ee7b07b6ab789a400ab_cgraph" id="botfs_8h_a71348fbe8ed02ee7b07b6ab789a400ab_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="141,81,256,109"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="304,81,467,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="535,55,617,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="515,106,637,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="685,55,784,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="847,30,945,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="833,81,959,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1015,5,1129,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1009,55,1135,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3b1852754b9352e456042f31f5242d6c"></a><!-- doxytag: member="botfs.h::botfs_read_fat16" ref="a3b1852754b9352e456042f31f5242d6c" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void botfs_read_fat16 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeigt Informationen ueber jeden Eintrag des Root-Verzeichnisses einer FAT16-Partition an. </p>
<p>Insbesondere welche Clusterketten von welcher Datei belegt werden. Dadurch laesst sich ablesen, ob und wie stark eine Datei fragmentiert ist, und an welchem Sektor des Mediums sie beginnt. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*path</td><td>Pfad zum Device, dessen (erste) FAT16-Partitiion untersucht werden soll (z.B. /dev/hdb (Linux) oder /dev/rdisk1 (Mac OS X). Alternativ Pfad zu einer Image-Datei, die den Partitionsinhalt enthaelt (z.B. von "dd" erzeugt).</td></tr>
  </table>
  </dd>
</dl>
<p>Hinweis: Gibt man einen Pfad zum Medium an, wird immer die erste Partition untersucht. Wenn man statt des Mediums den Namen einer Partition angibt (hdb1 oder rdisk1s1), funktioniert das Tool ebenfalls, alle ausgegebenen Adressen sind aber relativ zum Anfang der Partition! Das funktioniert allerdings nur dann, wenn die Partition keinen Boot-Code enthaelt! </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000026">Noch zu erledigen:</a></b></dt><dd>: lt. Spezifikation steht hier nicht zwingend der FAT-Typ </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs-tools__pc_8c_source.html#l00709">709</a> der Datei <a class="el" href="botfs-tools__pc_8c_source.html">botfs-tools_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00163">j</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00191">k</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f5aa83fae2a2682310842df4c8458e0"></a><!-- doxytag: member="botfs.h::botfs_read_header_data" ref="a4f5aa83fae2a2682310842df4c8458e0" args="(botfs_file_descr_t *file, uint8_t **headerdata, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_read_header_data </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>headerdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Liest die frei verwendbaren Header-Daten einer Datei aus. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">*headerdata</td><td>Zeiger auf die gewuenschten Header-Daten (liegen in buffer[]) </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00727">727</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00208">botfs_read_low()</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low_8c_source.html#l00116">bot_sens_init()</a>, <a class="el" href="sensor-low__pc_8c_source.html#l00060">convert_slog_file()</a> und <a class="el" href="map_8c_source.html#l01913">map_read()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a4f5aa83fae2a2682310842df4c8458e0_cgraph.png" border="0" usemap="#botfs_8h_a4f5aa83fae2a2682310842df4c8458e0_cgraph" alt=""/></div>
<map name="botfs_8h_a4f5aa83fae2a2682310842df4c8458e0_cgraph" id="botfs_8h_a4f5aa83fae2a2682310842df4c8458e0_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="224,81,339,109"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="387,81,549,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="617,55,700,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="597,106,720,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="768,55,867,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="929,30,1028,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="916,81,1041,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1097,5,1212,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1092,55,1217,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58bec3b262a075120ddd374e1438aaed"></a><!-- doxytag: member="botfs.h::botfs_readdir" ref="a58bec3b262a075120ddd374e1438aaed" args="(uint8_t offset, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* botfs_readdir </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gibt Root-Dir-Eintraege zurueck. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Nummer des Eintrags </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Zeiger auf Dateiname (aus buffer) </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs__pc_8c_source.html#l00294">294</a> der Datei <a class="el" href="botfs__pc_8c_source.html">botfs_pc.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00044">BOTFS_DIR_BLOCK_CNT</a>, <a class="el" href="botfs__config_8h_source.html#l00045">BOTFS_FILE_DESC_CNT</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs_8c_source.html#l00630">botfs_read()</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00163">j</a>.</p>

<p>Wird benutzt von <a class="el" href="botfs-low__pc_8c_source.html#l00105">botfs_check_volume_low()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a58bec3b262a075120ddd374e1438aaed_cgraph.png" border="0" usemap="#botfs_8h_a58bec3b262a075120ddd374e1438aaed_cgraph" alt=""/></div>
<map name="botfs_8h_a58bec3b262a075120ddd374e1438aaed_cgraph" id="botfs_8h_a58bec3b262a075120ddd374e1438aaed_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="453,81,616,109"/><area shape="rect" id="node19" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="156,106,241,134"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="684,55,767,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="664,106,787,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="835,55,933,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="996,30,1095,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="983,81,1108,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1164,5,1279,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1159,55,1284,83"/><area shape="rect" id="node21" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="291,106,405,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a425c8a53f498374adef8744291c8aa16"></a><!-- doxytag: member="botfs.h::botfs_rename" ref="a425c8a53f498374adef8744291c8aa16" args="(const char *filename, const char *new_name, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_rename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Benennt eine Datei um. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Dateiname </td></tr>
    <tr><td class="paramname">*new_name</td><td>Neuer Dateiname </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler</dd></dl>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Dateiname </td></tr>
    <tr><td class="paramname">*new_name</td><td>Neuer Dateiname </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler</dd></dl>
<p>Datei new_name wird geloescht, falls sie bereits existiert. </p>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00574">574</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs__config_8h_source.html#l00041">BOTFS_MAX_FILENAME</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs_8c_source.html#l00534">botfs_unlink()</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a425c8a53f498374adef8744291c8aa16_cgraph.png" border="0" usemap="#botfs_8h_a425c8a53f498374adef8744291c8aa16_cgraph" alt=""/></div>
<map name="botfs_8h_a425c8a53f498374adef8744291c8aa16_cgraph" id="botfs_8h_a425c8a53f498374adef8744291c8aa16_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="597,81,760,109"/><area shape="rect" id="node19" href="botfs_8c.html#a51db2e9a9426dc9edb351cc81edd7a70" title="Entfernt eine Datei." alt="" coords="159,81,249,109"/><area shape="rect" id="node22" href="botfs_8c.html#afe7539a83c840b120ef8996557fd0e9a" title="Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei." alt="" coords="300,131,385,159"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="828,55,911,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="808,106,931,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="979,55,1077,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1140,30,1239,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1127,81,1252,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1308,5,1423,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1303,55,1428,83"/><area shape="rect" id="node24" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="435,131,549,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a51db2e9a9426dc9edb351cc81edd7a70"></a><!-- doxytag: member="botfs.h::botfs_unlink" ref="a51db2e9a9426dc9edb351cc81edd7a70" args="(const char *filename, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_unlink </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entfernt eine Datei. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Dateiname </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer fuer mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00534">534</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00190">botfs_acquire_lock_low()</a>, <a class="el" href="botfs_8c_source.html#l00138">botfs_mutex</a>, <a class="el" href="botfs_8c_source.html#l00137">botfs_vol_data</a>, <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="botfs__pc_8c_source.html#l00154">botfs_copy_file()</a>, <a class="el" href="botfs_8c_source.html#l00574">botfs_rename()</a> und <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a51db2e9a9426dc9edb351cc81edd7a70_cgraph.png" border="0" usemap="#botfs_8h_a51db2e9a9426dc9edb351cc81edd7a70_cgraph" alt=""/></div>
<map name="botfs_8h_a51db2e9a9426dc9edb351cc81edd7a70_cgraph" id="botfs_8h_a51db2e9a9426dc9edb351cc81edd7a70_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="445,81,608,109"/><area shape="rect" id="node19" href="botfs_8c.html#afe7539a83c840b120ef8996557fd0e9a" title="Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei." alt="" coords="148,106,233,134"/><area shape="rect" id="node5" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="676,55,759,83"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="656,106,779,134"/><area shape="rect" id="node7" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="827,55,925,83"/><area shape="rect" id="node9" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="988,30,1087,58"/><area shape="rect" id="node15" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="975,81,1100,109"/><area shape="rect" id="node11" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1156,5,1271,33"/><area shape="rect" id="node13" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1151,55,1276,83"/><area shape="rect" id="node21" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="283,106,397,134"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe7539a83c840b120ef8996557fd0e9a"></a><!-- doxytag: member="botfs.h::botfs_write" ref="afe7539a83c840b120ef8996557fd0e9a" args="(botfs_file_descr_t *file, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_write </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte, dessen Daten in die Datei geschrieben werden </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler </dd></dl>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00655">655</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs__config_8h_source.html#l00060">BOTFS_MODE_r</a>, <a class="el" href="botfs-low_8c_source.html#l00224">botfs_write_low()</a> und <a class="el" href="botfs_8h_source.html#l00053">PRINT_MSG</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low_8c_source.html#l00169">bot_sens()</a>, <a class="el" href="botfs__pc_8c_source.html#l00154">botfs_copy_file()</a>, <a class="el" href="botfs_8c_source.html#l00384">botfs_create()</a>, <a class="el" href="botfs_8c_source.html#l00574">botfs_rename()</a>, <a class="el" href="botfs_8c_source.html#l00534">botfs_unlink()</a>, <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a> und <a class="el" href="map_8c_source.html#l01913">map_read()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_afe7539a83c840b120ef8996557fd0e9a_cgraph.png" border="0" usemap="#botfs_8h_afe7539a83c840b120ef8996557fd0e9a_cgraph" alt=""/></div>
<map name="botfs_8h_afe7539a83c840b120ef8996557fd0e9a_cgraph" id="botfs_8h_afe7539a83c840b120ef8996557fd0e9a_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="141,81,256,109"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="304,81,467,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="535,55,617,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="515,106,637,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="685,55,784,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="847,30,945,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="833,81,959,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1015,5,1129,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1009,55,1135,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4211d1027e05944d4aff015446e01b62"></a><!-- doxytag: member="botfs.h::botfs_write_header_data" ref="a4211d1027e05944d4aff015446e01b62" args="(botfs_file_descr_t *file, void *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t botfs_write_header_data </td>
          <td>(</td>
          <td class="paramtype">botfs_file_descr_t *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schreib die frei verwendbaren Header-Daten einer Datei in den Header. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*file</td><td>Zeiger auf Datei-Deskriptor </td></tr>
    <tr><td class="paramname">*buffer</td><td>Puffer mit mindestens BOTFS_BLOCK_SIZE Byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0, falls kein Fehler</dd></dl>
<p>buffer muss vorher durch <a class="el" href="botfs_8c.html#a4f5aa83fae2a2682310842df4c8458e0" title="Liest die frei verwendbaren Header-Daten einer Datei aus.">botfs_read_header_data()</a> mit den kompletten Header-Daten gefuellt worden sein! </p>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00750">750</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Benutzt <a class="el" href="botfs-low_8c_source.html#l00224">botfs_write_low()</a>.</p>

<p>Wird benutzt von <a class="el" href="sensor-low_8c_source.html#l00116">bot_sens_init()</a> und <a class="el" href="map_8c_source.html#l01913">map_read()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="botfs_8h_a4211d1027e05944d4aff015446e01b62_cgraph.png" border="0" usemap="#botfs_8h_a4211d1027e05944d4aff015446e01b62_cgraph" alt=""/></div>
<map name="botfs_8h_a4211d1027e05944d4aff015446e01b62_cgraph" id="botfs_8h_a4211d1027e05944d4aff015446e01b62_cgraph">
<area shape="rect" id="node3" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="224,81,339,109"/><area shape="rect" id="node5" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="387,81,549,109"/><area shape="rect" id="node7" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="617,55,700,83"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="597,106,720,134"/><area shape="rect" id="node9" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="768,55,867,83"/><area shape="rect" id="node11" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="929,30,1028,58"/><area shape="rect" id="node17" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="916,81,1041,109"/><area shape="rect" id="node13" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1097,5,1212,33"/><area shape="rect" id="node15" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1092,55,1217,83"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variablen-Dokumentation</h2>
<a class="anchor" id="a9b582e0d1a6060b578f95554abecb97f"></a><!-- doxytag: member="botfs.h::botfs_volume_image_file" ref="a9b582e0d1a6060b578f95554abecb97f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="botfs_8h.html#a9b582e0d1a6060b578f95554abecb97f">botfs_volume_image_file</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dateiname des BotFS-Volume-Images. </p>

<p>Definiert in Zeile <a class="el" href="botfs_8c_source.html#l00136">136</a> der Datei <a class="el" href="botfs_8c_source.html">botfs.c</a>.</p>

<p>Wird benutzt von <a class="el" href="init_8c_source.html#l00046">ctbot_init()</a> und <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Erzeugt am Mit Feb 29 2012 14:18:11 für c't-Bot von &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
